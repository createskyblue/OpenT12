# æœ±é›€ æ˜¯åŸºäºESP32çš„å¼€æºç„Šå°æ§åˆ¶å™¨

![](img/Logo.png)

æœ¬æ§åˆ¶å™¨é™¤äº†æ§åˆ¶æ™®é€šç„Šå°ä»¥å¤–ï¼Œåªéœ€é€šè¿‡ç¨ä½œä¿®æ”¹ï¼Œè¿˜å¯ä»¥æ§åˆ¶å…¶ä»–éç„Šå°çš„è‡ªåŠ¨åŒ–è®¾å¤‡

## ç¡¬ä»¶

[LCEDA/EasyEDA]https://oshwhub.com/createskyblue/opent12-jing-jian-ban  
[æ ¸å¿ƒé©±åŠ¨ç”µè·¯å‚è€ƒ]https://oshwhub.com/47415Y/gong-cheng

**æ³¨æ„ï¼šç”µè·¯æ¿æœªå®Œå…¨éªŒè¯**  
**Note: the circuit board is not fully verified**

![PCB_V1.0](img/readme/PCB3.0.jpg)

## è§†é¢‘
![](img/OLED_ScreenshotInit/çˆ†å‘.png)
https://www.bilibili.com/video/BV1s64y1v7mY/

## åŠŸèƒ½

***å¯¹åŠ çƒ­ç³»ç»Ÿçš„å…¼å®¹***

- [x] æ·±åœ³T12
- [ ] é«˜é¢‘ç„Šå°     (è¯¥æµ‹è¯•ç‰ˆä¸æ”¯æŒ)(æœªæµ‹è¯•ç†è®ºå¯è¡Œ)
- [ ] é“åŸºæ¿PCBçƒ­åºŠ(è¯¥æµ‹è¯•ç‰ˆä¸æ”¯æŒ)(æœªæµ‹è¯•ç†è®ºå¯è¡Œ)
- [ ] çƒ­é£æª       (è¯¥æµ‹è¯•ç‰ˆä¸æ”¯æŒ)


***åŸºæœ¬åŠŸèƒ½***

- [x] æ”¯æŒä¸­æ–‡è¾“å…¥
- [x] å¤šæ®µPIDæ§åˆ¶åŠ çƒ­ï¼Œå¤šç«¯ADC/PIDé‡‡æ ·å‘¨æœŸè®¾ç½®
- [x] å¯è®¾ç½® å¼€æœºæ¸©åº¦ã€çˆ†å‘æ¸©åº¦ã€ä¼‘çœ æ¸©åº¦
- [x] å¯å®šæ—¶ ä¼‘çœ ã€å…³æœºï¼Œè‡ªå®šä¹‰çˆ†å‘æ¨¡å¼æ—¶é—´
- [x] å¯ä¿å­˜æˆåƒä¸Šåƒä¸‡ç»„çƒ™é“å¤´é…ç½®ï¼ˆé»˜è®¤10ç»„ï¼‰
- [ ] åŒä¼‘çœ æ”¯æŒï¼šåŒæ—¶æ”¯æŒéœ‡åŠ¨è§¦å‘ä¸ç£åŠ›è§¦å‘

***é«˜çº§åŠŸèƒ½***

- [x] PMOSä¸NMOSï¼ˆé»˜è®¤PMOSï¼Œç”±äºè¯¥é€‰é¡¹å…·æœ‰å±é™©æ€§ï¼Œéœ€è¦åœ¨æºç¨‹åºä¸Šä¿®æ”¹è®¾ç½®ï¼‰
- [x] å¿«æ·é”®å¿«é€Ÿè°ƒèŠ‚PID
- [x] æ¯ä¸ªçƒ™é“å¤´å…è®¸è®¾ç½®ä¸¤ç»„PID
- [x] å¯é€šè¿‡èœå•è®¾ç½®ç‹¬ç«‹ADC/PIDé‡‡æ ·å‘¨æœŸï¼Œå¡å°”æ›¼æ»¤æ³¢å™¨å‚æ•°
- [x] 9æ®µçƒ™é“å¤´æ¸©åº¦æ‹Ÿåˆæ ¡å‡†
- [ ] æ¸©åº¦è‡ªæ ¡å‡†ç”µè·¯ï¼ˆæœªå®ç°ï¼‰
- [x] è‡ªå®šä¹‰æ˜¾ç¤ºæ•ˆæœï¼šäº®åº¦ã€ç¿»è½¬å¹³é¢ã€è¿‡æ¸¡åŠ¨ç”»ã€æ˜¾ç¤ºæ ·å¼ã€åˆ—è¡¨æ¨¡å¼
- [x] ä¸ªæ€§åŒ–è‡ªå®šä¹‰ï¼šæç¤ºéŸ³ã€ç¼–ç å™¨æ—‹è½¬æ–¹å‘ã€æ‰‹æŸ„è§¦å‘æ¨¡å¼ã€ç³»ç»Ÿè¯­è¨€(æš‚æ—¶åªæ”¯æŒç®€ä½“ä¸­æ–‡)
- [x] å®‰å…¨ä¿æŠ¤è®¾ç½®ï¼šè‡ªå®šä¹‰å¼€æœºå¯†ç ã€æ¬ å‹è­¦æŠ¥ã€å¼ºåˆ¶å…³æœºæç¤ºè­¦å‘Š
- [x] è“ç‰™è¿œç¨‹å‘½ä»¤è¡Œæ§åˆ¶
- [ ] è¯­éŸ³æ§åˆ¶ï¼ˆæœªå®ç°ï¼‰
- [ ] è‡ªå®šä¹‰å¼€æœºLogo(æœªå®ç°)

## å¼•è„šå®šä¹‰
ç›®å‰ç¡¬ä»¶è¿˜æ²¡æœ‰è®¾è®¡å¥½ï¼Œå¦‚æœæƒ³è‡ªå·±åˆ¶ä½œæ§åˆ¶å™¨å¯ä»¥å‚è€ƒä¸‹è¡¨åˆ¶ä½œç¡¬ä»¶

**ä½¿ç”¨I2Cï¼ˆé»˜è®¤ï¼‰**
| I2Cæ¨¡å¼ | PIN | SPIæ¨¡å¼ | PIN |
| :-----: | :----: | :-----: | :----: |
| å±å¹•SCL | 22 | å±å¹•SCK  | 18 |
| å±å¹•SDA | 21 |å±å¹•MOSI | 23 |
|||å±å¹•DC   | 13 |
|||å±å¹•RST  | 15 |
|||å±å¹•CS   | GND (æœªæ¥æœ‰å˜åŠ¨)|

**å…¶ä»–å¼•è„š**
| åç§° | PIN |
| :-----: | :----: |
|LED|2 (ä¿ç•™)|
|èœ‚é¸£å™¨|25|
|ç¼–ç å™¨A|14|
|ç¼–ç å™¨B|12|
|ç¼–ç å™¨æŒ‰é”®|33|
|æµ‹æ¸©ADC|39|
|çƒ­æ•ADC|34|
|ç”µå‹ADC|35|
|ç”µæµADC|32|
|PWM1|26|
|PWM2|27(ä¿ç•™)|
|éœ‡åŠ¨å¼€å…³|4|
|å¹²ç°§ç®¡|19|

## ä½¿ç”¨è¯´æ˜

- ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ä¼šè¿›è¡Œæ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ–ï¼Œéœ€è¦ä¸€å®šæ—¶é—´
- ä¸»ç•Œé¢ä¸­ä½¿ç”¨ **å•å‡»** å¯è¿›å…¥çˆ†å‘ææ¸©æ¨¡å¼
- ä¸»ç•Œé¢ä¸­ä½¿ç”¨ **åŒå‡»** å¯å‘¼å‡ºPIDèœå•
- ä¸»ç•Œé¢ä¸­ä½¿ç”¨ **é•¿æŒ‰** å¯æ‰“å¼€èœå•
- è‹¥æœ‰å¤šä¸ªçƒ™é“é…ç½®ï¼Œæ£€æµ‹åˆ°çƒ™é“æ›´æ¢æ—¶ä¼šåœ¨ä¸»ç•Œé¢å¼¹å‡ºé…ç½®é€‰æ‹©èœå•
- æ·»åŠ æ–°çƒ™é“é…ç½®æ—¶ï¼Œé»˜è®¤å‚æ•°ä¸ºç©ºï¼Œéœ€è¦è‡ªè¡Œæ ¡å‡†æ¸©åº¦ä»¥åŠè®¾ç½®å‚æ•°
- ä¸»èœå•ä¸­ **é•¿æŒ‰** å¯ä»¥è¿”å›ä¸Šä¸€çº§

## ç¼–è¯‘å®‰è£…
å®‰è£…ArduinoIDE

### å®‰è£…ESP32å¼€å‘æ¿
ArduinoIDE-æ–‡ä»¶-é¦–é€‰é¡¹-é™„åŠ å¼€å‘æ¿ç®¡ç†ç½‘å€->æ·»åŠ :

https://dl.espressif.com/dl/package_esp32_index.json

![](img/readme/ArduinoIDE_1.jpg)
![](img/readme/ArduinoIDE_2.jpg)

ArduinoIDE-å·¥å…·-å¼€å‘æ¿-å¼€å‘æ¿ç®¡ç†å™¨->æœç´¢å¹¶å®‰è£…:ESP32

![](img/readme/ArduinoIDE_3.jpg)

### ç¬¬ä¸‰æ–¹ä¾èµ–åº“
| åç§° | é“¾æ¥ |
| :-----: | :-----: |
|U8g2                           |<https://github.com/olikraus/u8g2/>|
|QRCode                         |<https://github.com/ricmoo/qrcode/>|
|OneButton                      |<https://github.com/mathertel/OneButton>|
|Arduino-PID-Library            |<http://playground.arduino.cc/Code/PIDLibrary>|
|GeekFactory_Shell_Library      |<https://github.com/geekfactory/Shell>|

### é€‰æ‹©ESP32å¹¶é…ç½®ç¼–è¯‘é€‰é¡¹

é€‰æ‹©å¼€å‘æ¿ESP32 Dev Module
![](img/readme/ArduinoIDE_4.jpg)

æœ€ä½é…ç½®éœ€è¦4MBçš„Flashç©ºé—´(Minimal SPIFFS 1.9MB APP with OTA/190KB SPIFFS)
![](img/readme/Esp32_IDE_Set.jpg)

### ç¼–è¯‘å¹¶ä¸Šä¼ åˆ°å¼€å‘æ¿

![](img/readme/ArduinoIDE_5.jpg)
![](img/readme/ArduinoIDE_6.jpg)

## å±•ç¤º
<center>ğŸ‘‡ä¸»é¡µé¢</center>

![](img/OLED_ScreenshotInit/åŠ çƒ­.png)
![](img/OLED_ScreenshotInit/é”™è¯¯.png)

<center>ğŸ‘‡æ”¯æŒä¿å­˜å¤šç»„ä¸åŒçš„ç‹¬ç«‹çƒ™é“å¤´é…ç½®ï¼ˆPIDä¸æ¸©åº¦ç³»æ•°ç»Ÿç»Ÿç‹¬ç«‹ï¼‰</center>

![](img/OLED_ScreenshotInit/é…ç½®åˆ—è¡¨.png)

<center>ğŸ‘‡9é˜¶æ¸©åº¦ç³»æ•°æ ¡å‡†</center>

![](img/OLED_ScreenshotInit/æ¸©åº¦ç³»æ•°.png)
![](img/OLED_ScreenshotInit/æ ¡å‡†é¡µé¢.png)

<center>ğŸ‘‡æ”¯æŒä¸­æ–‡è¾“å…¥</center>

![](img/OLED_ScreenshotInit/é‡å‘½å.png)

<center>ğŸ‘‡æ¯ä¸ªçƒ™é“å¤´å¯ä»¥è®¾ç½®ä¸¤ç»„PID</center>

![](img/OLED_ScreenshotInit/PID.png)
![](img/OLED_ScreenshotInit/ä¿®æ”¹PID.png)

<center>ğŸ‘‡ä¸ªæ€§åŒ–è®¾ç½®</center>

![](img/OLED_ScreenshotInit/æ¸©åº¦åœºæ™¯.png)
![](img/OLED_ScreenshotInit/ç¿»è½¬å±å¹•.png)
![](img/OLED_ScreenshotInit/å¯†ç è¾“å…¥.png)